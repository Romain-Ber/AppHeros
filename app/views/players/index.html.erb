<% content_for :title, "Challenges" %>
  <div class="d-flex flex-column" data-controller="challenge-request">
    <div>
      <%= link_to "retour", bar_path(@bar), class: "btn btn-primary" %>
    </div>
    <div class="d-flex flex-column w-100">

      <% @users.each do |user| %>
      <div class="d-flex">
        <%= render "player_card", user: user %>
        <div class="flex-end", style="margin-left: 8px;">
          <div data-challenge-request-target="choicegame">
            <button class="challenge-button" data-action="click->challenge-request#showModal">
              <%= image_tag("players/icone_defier.png", width: "60", height: "60") %>
            </button>
          </div>

        </div>
      </div>
      <div class="modal-overlay" data-challenge-request-target="modalOverlay">
        <div class="modal" data-challenge-request-target="modal">
          <h2>Choisi ton jeu dans la liste</h2>
          <%#= button_to bar_challenges_path(@bar, challenged_id: user.id, game_slug: :custom_game), method: :post, class:'btn button w-100' %>
          <%#= button_to bar_challenges_path(@bar, challenged_id: user.id, game_slug: :memory_game), method: :post, class:'btn button w-100' %>
          <%#= button_to bar_challenges_path(@bar, challenged_id: user.id, game_slug: :taptabiere_game), method: :post, class:'btn button w-100' %>

          <%#= link_to 'Tap ta biÃ¨re', taptabiere_challenge_game_path(@challenge), class:'btn button w-100' %>
        </div>
      </div>
    <% end %>
  </div>
</div>
